ABC处于三个可用区，A是write节点，BC是备份节点

- consistency  一致性，所有节点存储的数据是一致的，更新A后，BC的值必须和A保持一致
- availability 可用性，服务一直处于可用状态，向ABC任何服务器发起请求都会返回数据
- partition tolerance 分区容错性，可用去内部网络没有问题，分区间网络异常，仍可响应用户请求

CAP只能三取二，如

- 满足CA时，向A写入数据必须等待BC同步后才成功，则要保证分区间同步必须没问题，即不满足P
- 满足CP时，向A写入数据必须等待BC同步后才成功，如果分区间网络问题则请求必须失败，即不满足A
- 满足AP时，向A写入的数据不能实时同步BC，用户查询BC的数据可能和A发生不一致，即不满足A

在不同场景下选择不同的方案

- CP，在实时账户交易场景下必须要保证CP，出现问题时牺牲A
- CA，只能放弃分布式，降低了数据安全性，典型就是mysql单节点
- AP，不要求实时的一致性，在故障恢复后保持一致性，或者通过对账保证正确性