公网ip数量有限，局域网内使用的私有ip无法被公网访问，可以在内网中搭建nat，nat可以配置多个公网ip

内网发起请求后，nat修改ip报文，将私网的ip+port <--> nat公网ip+port 做映射转发

- SNAT：之前说的NAT转换时请求报文替换了源地址，响应报文替换了目标地址，所以又为sourceNAT

- DNAT：当外网用户访问局域网内的站点时，网关收到请求报文并将请求报文内的目标地址和端口更换为局域网内的地址和端口，局域网内的站点收到请求报文后将响应报文发送给网关，网关再将响应报文中的源地址替换为外网地址，将报文发送回外网用户。

- PNAT：以http服务为例，外网用户要访问内网的http服务请求的端口是80，而内网的httpd服务工作在非标准的端口8080上，此时用来作为DNAT转换的网关只将ip做了转换没有将端口进行转换就将报文发给了内网的web服务器，而内网服务器的80端口没有http服务，此时内网的http服务器就需要将发送给本机80端口的数据报文重新重定向至本机的8080端口，这就叫做PNAT也叫端口重定向或者端口映射
