# 设计模式的意义
所谓设计模式，就是留有余地

程序员编写代码的同时要为未来考虑，在编写一段代码后未来可能面临的场景如下

- 阅读代码，可读性，是其他的基础
- 代码有BUG，能快速定位发现BUG，修改BUG时不会引入新的BUG，可维护性
- 在原有的基础上扩展新功能，扩展性
- 在编写其他功能时复用原有的代码，可复用性
- 尽可能用简单的方式完成功能，保持代码简洁性
- 容易编写高质量的测试，可测试性

因为代码会面临以上的问题，就有人提出了新的编程范式，如面向对象编程，像堆积木一样写代码。也有其他的编程范式，每种编程范式都有自己适合的领域

在某种特定情况下解决上面问题有固定套路，总结出来就是设计模式

场景是多种多样的，设计模式只能解决某些场景，最核心的是体会在某种场景下解决上面需求的思路，即编程思想

# 设计原则
为了达到追求的目的，我们提出了各种手段和模式，归纳起来他们有着共同的原则，这些原则是指导思想，基于这些思想创建了模式

## 抽象和具体分离
- 基于抽象而非形象编程，将具体的和抽象的分离开

抓住事物的本质，基于本质处理，是所谓抽象编程

## 单一职责
每个类应该只负责一个业务，方法应该追求最小粒度

难度在于划分业务边界和定义粒度大小，不用开始就追求最小最好，以发展的眼光看

# 最小原则
不要提供额外的负担或功能，只给予最小权限，也是对编辑器很好的利用

## 开闭原则
对扩展开放，对修改关闭，其目的是避免修改代码影响原有代码，前提是代码会改变

难点在于衡量哪些可能会改变，需要抽象，哪些不会变，不用过度抽象

## 里氏替换原则
子类不要重写父类的方法，不仅增加了使用者的理解负担，还可能对原有代码造成破坏

这也是一种向下兼容的思想体现

## 控制反转
控制反转、依赖注入、依赖反转

这三个概念都是对开闭原则的具体体现，将变化的抽象，只留下不变的模板

控制反转将处理逻辑中的具体逻辑抽象分离，只留下一般不会变化的处理流程，将逻辑注入到流程中

处理流程依赖与处理逻辑，即依赖注入

上层不应该依赖于下层具体的实现，而是抽象接口，将下层注入到上层中，即依赖反转

功能实现要通过接口弱关联，通过注入强实现




