目前为止我们已经知道CPU具有以下的能力

- 传输数据
- 运算
- 条件跳转

任何一个通用的内存都具有一种能力：在执行完成当前指令后检测从CPU内部或外部发过来的一种信号，并立即对信号做出反应，我们将这种信号成为中断信息

# 内中断
对8086CPU，有下面情景发生时触发中断

- 除法错误 0
- 单步执行 1 
- 执行into 4
- 执行int n

触发中断时CPU会提供大小为1字节的中断变量，可以表示256种可能

用中断变量在中断向量表中查询，就能得到对应的处理程序地址

在8086中，中断向量表内存地址为0000:0000-0000:03FF，每个表项占两字节，高地址存放段地址，低地址存放偏移地址

当发生中断时，会有中断硬件自动完成下面步骤

1. 从中断信息处获取中断类型码
2. 标志寄存器入栈 pushf
3. 设置标志寄存器8-TF，9-IF值为0 TF=0,IF=0
4. CS、IP入栈 push CS,push IP
3. 中断类型码\*4+中断类型码\*4+2，设置IP、CS地址 (IP)=(N\*4),(CS)=(N\*4+2)

中断处理程序和子程序类型

1. 保存用到的寄存器
2. 处理中断
3. 恢复寄存器
4. iret == pop IP,pop CS,popf


## int

    int n ;手动触发中断