## 比特币原理简述

### 账本公开机制
为了确保账本不是被某个机构或权威掌握，就有一个公开账本，每个人都可以下载这个公开账本，这就使得账本从第三方监督变为公共监督，这个账本上并不记录每个人所拥有的金钱，而是**有次序**的记录了所有的交易，那么就可以通过有时序的交易推算出每个人拥有的余额

### 身份与签名机制
为了身份信息的保密且身份的唯一性和不可伪造，每一个参与的用户都有一个公匙和私匙，公匙用于对交易加上自己的身份信息，私匙用于验证其他的身份信息是否正确

### 交易
1. 签署交易单：首先你要知道交易对象的标识字符串，然后写一张单子（假定自己的标识串是kanggege，交易对象是 shala） “kanggege 支付 10 比特币给 shala”，然后加上自己的公匙，将该单子给 shala，而且为了追溯单子来源，要在单子中标明这笔钱来自那一页
2. 收款人确定：当收款人接受到这张单子，首先要用自己的私匙鉴定单子上签署的公匙是由“kanggege”签署的，即验证订单是否伪造

### 矿工
在以前有第三方权威机构时，通过第三方为我们进行交易计算，当失去第三方了我们该怎样记账呢，这就要通过矿工

- 矿工以组为单位，一组可以是单独的一户，也可以是几户联合为一组
- 成为矿工不影响正常使用货币
- 矿工每天要花费一定时间从事比特币“挖矿”活动，但是不同于挖金矿，虚拟矿工不需要拿着工具去野外作业，在家里就可以完成工作
- 矿工有一定可能性获得报酬，在挖矿活动中付出的努力越多，获得报酬的可能性越大
- 矿工可以随时退出，也可以随时有新的矿工加进来

为了让矿工更心甘情愿的为我们确定交易合法性（只是我们计算得到合法性是毫无意义的，我们需要让所有人承认这笔交易，就需要通过旷工），需要利益驱动

## 挖矿
挖矿也不仅是系统的核心，也是最为复杂的部分

- 当产生一笔交易，需要把这笔交易单发送给所有矿工
- 矿工需要把交易单上的内容抄在一张账簿纸上，并加上账单上上一张交易的编号（每一单交易的编号都是不同的），每张账簿纸都是唯一的，编码器会验证他的唯一性
- 矿工有一个使用编码器（哈希函数），用于将账簿纸生成一份编码值（哈希码值），生成的编号仅与账簿纸上填入的内容有关，与填写人、字体、填写时间等因素均无关
- 首先：交易清单一旦改变一个字符，就会产生不同的编码值，所以在大量人计算的情况下，除非超过一半的人共同修改交易单并计算，否则只是私人改动不会得到群体的承认。其次：机器也会对交易单的签名进行验证，假的就不会计算
- 每个矿工也要有一个公示栏，用于公布一些信息
- 账簿纸上有一个幸运数字栏，可以随便填数字，然后，将这样账簿纸放入编号生成器，打印好编号，一张账簿就算完成了，只有编号的前10个数均为0，这页账簿纸才算有效，如果无效就需要换一张账簿，重新填一个幸运数字再计算，直到满足规定为止
- 当某挖矿小组幸运的生成了一张有意义的账簿，为了得到奖励，必须立刻请其它小组确认自己的工作，当某个小组接到其他小组送来的账簿纸时，必须立即停下手里的挖矿工作进行账簿确认
- 如果：账簿的编号有效、账簿的前一页账簿有效、交易清单有效，则会承认账簿成功，并且用账本逆向计算双方是否有足够的交易金，满足后交易有效性就被确定了
- 如果完成了所有了上述验证并全部通过，这个小组就认可了上述账簿纸有效，然后将这张账簿纸并入小组的主账簿，舍弃目前正在进行的工作，后面的挖矿工作会基于这本更新后的主账本进行