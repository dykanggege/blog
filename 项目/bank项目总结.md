# 总述

项目简介：为一个小储蓄所写的，低配版银行储蓄管理系统

## 主要功能：
1. 开户与存取款
2. 账户管理
3. 操作员与管理者的权限分配
4. 记录日志、各项流水的查询
5. 打印数据库数据

## 开发框架：
- 前端：layui + jQuery
- 后台：springboot + mybatis

## 开发流程总结：
1. 需求分析，理清流程
2. 前端与数据库
    1. 后台开始着手设计数据库，主要是确定主体，字段，主体间的关联。设计数据库的同时可以填充测试字段，便于以后测试
    2. 前端确定架构，并且简单的拉出页面原型和功能，同时以功能去映照数据库
    3. 将前端页面与数据库映射对照
3. 后台：bean -> dao -> service -> controller -> aspect，注意要写单元测试
4. 前端：按模块编写


# 坑
## 抽象化
在设计数据表时，碰到一个问题：有活期账户和定期账户，两者有许多相同的字段，活期只有个别特殊字段，定期有许多特殊字段。现在有两种解决方案：

- 抽取他们的公共字段为账户表，再创建活期表和定期表，分别记录他们的特殊字段
    - 缺点：操作特殊字段时，每次都要进行联结查询，相对于单表查询浪费了性能
- 分别为他们创建活期表和定期表，并不抽取公共字段

看起来好像第二个性能更好，而且活期表只有一两个特殊字段，无需再分一张表，实际上他不满足数据库设计第三范式，设计时没想那么多，实际在开发中却碰到问题不少

- 因为是两个表，所以只定义了两个 bean 和 dao，看起来好像对于三张表简略，但是在改字段和实现业务层时，问题不少
- 如果这些公共字段要做修改，那么要同时修改两张表，两个 bean ，甚至两个 dao
- 在 service 层使用公共字段，要调用两个 dao，如果对 bean 操作，甚至要写两套逻辑，一旦修改都是要改两套，代码很冗余

**总结**
- 尽可能对表的公共字段进行抽象提取，这样代码和数据表更容易维护
- 如果对性能要求高，且等百分值一万确定每次操作公共字段时都与特殊字段一起使用，那么可以不提取，慎重使用

## service
写 service 时，把他当做 controller 的实现层来写了，实际上应该将业务划分模块，而 service 就是写这些模块的功能，controller 对应页面的请求来调用这些模块功能